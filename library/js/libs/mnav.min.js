(function(e){var t={init:function(t,n){var r=this;r.$elem=e(n);r.options=e.extend({},e.fn.Mnav.options,r.$elem.data(),t);r.userOptions=t;r.prepContainer();r.buildWidget()},buildWidget:function(){var t=this;var n=e("<div/>",{"class":"mnav-mobile-btn"});t.$elem.addClass("mnav-theme");t.$elem.prepend(n);if(t.options.mobileButtonPos==="left"){n.css({left:0})}else if(t.options.mobileButtonPos==="right"){n.css({right:0})}else if(t.options.mobileButtonPos==="center"){n.css({margin:"auto",position:"relative"});t.$elem.css({padding:"0"})}if(!t.options.subMenuOpen){t.$elem.children(".mnav-menu").children(".mnav-menu-item").has("ul").prepend('<span class="mnav-open-close"><b class="mnav-mobile-arrow"></b></span>')}t.addListeners()},addListeners:function(){var t=this;t.$elem.children(".mnav-mobile-btn").on("click",function(){t.openMenu()});t.$elem.children(".mnav-menu").on("mouseenter",".mnav-menu-item",function(n){if(!t.$elem.children(".mnav-mobile-btn").is(":visible")){e(this).children(".mnav-submenu:not(li)").slideToggle(t.options.subMenuSpeed);e(this).children(".mnav-mobile-arrow").toggleClass("mnav-mobile-arrow-mirror")}});t.$elem.children(".mnav-menu").on("mouseleave",".mnav-menu-item",function(n){if(!t.$elem.children(".mnav-mobile-btn").is(":visible")){e(this).children(".mnav-submenu:not(li)").slideToggle(t.options.subMenuSpeed);e(this).children(".mnav-mobile-arrow").toggleClass("mnav-mobile-arrow-mirror")}});if(!t.options.subMenuOpen){t.$elem.children(".mnav-menu").on("click",".mnav-open-close",function(){e(this).siblings(".mnav-submenu:not(li)").slideToggle(t.options.subMenuSpeed);e(this).children(".mnav-mobile-arrow").toggleClass("mnav-mobile-arrow-mirror")})}e(window).resize(function(){if(!t.$elem.children(".mnav-mobile-btn").is(":visible")){t.$elem.find(".mnav-submenu").hide()}if(!t.$elem.children(".mnav-mobile-btn").is(":visible")&&!t.$elem.children(".mnav-menu").is(":visible")){t.$elem.children(".mnav-menu").show()}if(t.$elem.children(".mnav-mobile-btn").is(":visible")&&t.options.subMenuOpen){t.$elem.find(".mnav-submenu").show()}})},prepEvents:function(){var e=this;e.$elem.on("mnav.open",function(){e.openMenu()})},prepContainer:function(){var e=this;e.$elem.children("ul").addClass("mnav-menu");e.$elem.children(".mnav-menu").children("li").addClass("mnav-menu-item");e.$elem.children(".mnav-menu").children("li").children("ul").addClass("mnav-submenu");e.$elem.children(".mnav-menu").children("li").children("ul").children("li").addClass("mnav-submenu-item")},openMenu:function(){var e=this;if(e.options.subMenuOpen){e.$elem.find(".mnav-submenu").show()}e.$elem.children(".mnav-menu:not(li)").slideToggle(e.options.mainMenuSpeed)}};e.fn.Mnav=function(n){return this.each(function(){var r=Object.create(t);r.init(n,this);e.data(this,"Mnav",r)})};e.fn.Mnav.options={theme:null,mainMenuSpeed:200,subMenuSpeed:200,mobileButtonPos:"right",subMenuOpen:false}})(jQuery)